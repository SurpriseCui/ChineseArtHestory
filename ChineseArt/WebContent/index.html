<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Chinese Art History</title>
<link rel="stylesheet" href="vendors/laravel/css/screen.css" />
<link rel="stylesheet" href="vendors/laravel/css/laravel.css" />
<link rel="stylesheet" href="vendors/laravel/css/patch.css" />
<link rel="stylesheet" href="resources/css/mycss.css" />
<link rel="stylesheet" href="resources/css/pics.css" />
</head>
<body class="docs">
<header class="main-header" style="background-image: url(./resources/img/header.png)">
	<div>
		<h1>Chinese Art History</h1>
	</div>
</header>

<div id="wrapper"><!-- 最外层部分 -->
    <div id="banner"><!-- 轮播部分 -->
      <ul class="imgList"><!-- 图片部分 -->
      	<li><a href="#"><img id="img1" src="./resources/img/144.4-4a.Niuheliang.jpg" width="800px" height="400px" alt="puss in boots1"></a></li>
      	<li><a href="#"><img id="img2" src="./resources/img/159.57b.Rujiazhuang.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img3" src="./resources/img/163.5-2a.Yaoshan.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img4" src="./resources/img/185.65b.Houma.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img5" src="./resources/img/196.7-8.Anyang.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
     
     	<li><a href="#"><img id="img6" src="./resources/img/236.10-1b.Xiaotun.jpg" width="800px" height="400px" alt="puss in boots1"></a></li>
      	<li><a href="#"><img id="img7" src="./resources/img/24.I-1a.Dahecun.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img8" src="./resources/img/245.80e.Mawangdui.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img9" src="./resources/img/251.11-3.Luoyang.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img10" src="./resources/img/278.13-5a.Sanxingdui.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>

		<li><a href="#"><img id="img11" src="./resources/img/285.90c.Wuwei.jpg" width="800px" height="400px" alt="puss in boots1"></a></li>
      	<li><a href="#"><img id="img12" src="./resources/img/288.14-1.Leigudun.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img13" src="./resources/img/294.14-4.Mawangdui.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img14" src="./resources/img/298.94e.Niya.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img15" src="./resources/img/328.Lintong.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>

		<li><a href="#"><img id="img16" src="./resources/img/336.18-5.Sanji.jpg" width="800px" height="400px" alt="puss in boots1"></a></li>
      	<li><a href="#"><img id="img17" src="./resources/img/346.19-1.Mancheng.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img18" src="./resources/img/355.110c.Datong.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img19" src="./resources/img/370.111h.Xi'an.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img20" src="./resources/img/372.114b.Guyuan.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>

		<li><a href="#"><img id="img21" src="./resources/img/387.116e.Astana.jpg" width="800px" height="400px" alt="puss in boots1"></a></li>
      	<li><a href="#"><img id="img22" src="./resources/img/412.122c.Hejiacun.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img23" src="./resources/img/414.123a.Famensi.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img24" src="./resources/img/467.135e.Faku.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img25" src="./resources/img/471.136e.Xuanhua.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>

		<li><a href="#"><img id="img26" src="./resources/img/481.138d.Yingxian.jpg" width="800px" height="400px" alt="puss in boots1"></a></li>
      	<li><a href="#"><img id="img27" src="./resources/img/484.139c.Dingzhou.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img28" src="./resources/img/502.145g.GuoZhongshu.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img29" src="./resources/img/506.146e.Cixian.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img30" src="./resources/img/72.27b.Yaoguanzhuang.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>

		<li><a href="#"><img id="img31" src="./resources/img/75.28b.Liuwan.jpg" width="800px" height="400px" alt="puss in boots1"></a></li>
      	<li><a href="#"><img id="img32" src="./resources/img/81.30f.Dongshanzui.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	<li><a href="#"><img id="img33" src="./resources/img/84.31b.Lingjiatan.jpg" width="800px" height="400px" alt="puss in boots2"></a></li>
      	
	  </ul>
      <img src="./img/prev.png" width="20px" height="40px" id="prev">
      <img src="./img/next.png" width="20px" height="40px" id="next">
      <div class="bg"></div> <!-- 图片底部背景层部分-->
      <ul class="infoList"><!-- 图片左下角文字信息部分 -->
        <li class="infoOn">puss in boots1</li>
        <li>puss in boots2</li>
        <li>puss in boots3</li>
        <li>puss in boots4</li>
        <li>puss in boots5</li>
      </ul>
      <ul class="indexList" hidden><!-- 图片右下角序号部分 -->
        <li class="indexOn" hidden>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
        
        <li>6</li>
        <li>7</li>
        <li>8</li>
        <li>9</li>
        <li>10</li>
        
        <li>11</li>
        <li>12</li>
        <li>13</li>
        <li>14</li>
        <li>15</li>
        
        <li>16</li>
        <li>17</li>
        <li>18</li>
        <li>19</li>
        <li>20</li>
        
        <li>21</li>
        <li>22</li>
        <li>23</li>
        <li>24</li>
        <li>25</li>
        
        <li>26</li>
        <li>27</li>
        <li>28</li>
        <li>29</li>
        <li>30</li>
        
        <li>31</li>
        <li>32</li>
        <li>33</li>
        
      </ul>
    </div>
  </div>
  <script type="text/javascript">
  var curIndex = 0, //当前index
      imgArr = getElementsByClassName("imgList")[0].getElementsByTagName("li"), //获取图片组
      imgLen = imgArr.length,
      infoArr = getElementsByClassName("infoList")[0].getElementsByTagName("li"), //获取图片info组
       indexArr = getElementsByClassName("indexList")[0].getElementsByTagName("li"); //获取控制index组 
     // 定时器自动变换2.5秒每次
  var autoChange = setInterval(function(){ 
    if(curIndex < imgLen -1){ 
      curIndex ++; 
    }else{ 
      curIndex = 0;
    }
    //调用变换处理函数
    changeTo(curIndex); 
  },2500);
  
  //清除定时器时候的重置定时器--封装
  function autoChangeAgain(){ 
      autoChange = setInterval(function(){ 
      if(curIndex < imgLen -1){ 
        curIndex ++;
      }else{ 
        curIndex = 0;
      }
    //调用变换处理函数
      changeTo(curIndex); 
    },2500);
    }

  //调用添加事件处理
  addEvent();

  //给左右箭头和右下角的图片index添加事件处理
 function addEvent(){
 	  for(var i=0;i<imgLen;i++){ 
		  //闭包防止作用域内活动对象item的影响
		  (function(_i){ 
 			  //鼠标滑过则清除定时器，并作变换处理
			  indexArr[_i].onmouseover = function(){ 
				  clearTimeout(autoChange);
				  changeTo(_i);
				  curIndex = _i;
				  };
				  
				  //鼠标滑出则重置定时器处理
				  indexArr[_i].onmouseout = function(){ 
					  autoChangeAgain();
					  }; 
		  })(i);
	} 

  //给左箭头prev添加上一个事件
  var prev = document.getElementById("prev");
  prev.onmouseover = function(){ 
    //滑入清除定时器
    clearInterval(autoChange);
  };
  prev.onclick = function(){ 
    //根据curIndex进行上一个图片处理
    curIndex = (curIndex > 0) ? (--curIndex) : (imgLen - 1);
    changeTo(curIndex);
  };
  prev.onmouseout = function(){ 
    //滑出则重置定时器
    autoChangeAgain();
  };

   //给右箭头next添加下一个事件
  var next = document.getElementById("next");
  next.onmouseover = function(){ 
    clearInterval(autoChange);
  };
  next.onclick = function(){ 
    curIndex = (curIndex < imgLen - 1) ? (++curIndex) : 0;
    changeTo(curIndex);
  };
  next.onmouseout = function(){ 
    autoChangeAgain();
  };
}

  //左右切换处理函数
  function changeTo(num){ 
    //设置image
    var imgList = getElementsByClassName("imgList")[0];
    goLeft(imgList,num*800); //左移一定距离
    //设置image 的 info
    var curInfo = getElementsByClassName("infoOn")[0];
    removeClass(curInfo,"infoOn");
    addClass(infoArr[num],"infoOn");
    //设置image的控制下标 index
     var _curIndex = getElementsByClassName("indexOn")[0];
    removeClass(_curIndex,"indexOn");
    addClass(indexArr[num],"indexOn"); 
  }


  //图片组相对原始左移dist px距离
  function goLeft(elem,dist){ 
    if(dist == 800){ //第一次时设置left为0px 或者直接使用内嵌法 style="left:0;"
      elem.style.left = "0px";
    }
    var toLeft; //判断图片移动方向是否为左
    dist = dist + parseInt(elem.style.left); //图片组相对当前移动距离
    if(dist<0){  
      toLeft = false;
      dist = Math.abs(dist);
    }else{ 
      toLeft = true;
    }
    for(var i=0;i<= dist/20;i++){ //这里设定缓慢移动，10阶每阶40px
      (function(_i){ 
        var pos = parseInt(elem.style.left); //获取当前left
        setTimeout(function(){ 
          pos += (toLeft)? -(_i * 20) : (_i * 20); //根据toLeft值指定图片组位置改变
          //console.log(pos);
          elem.style.left = pos + "px";
        },_i * 25); //每阶间隔50毫秒
      })(i);
    }
  }

  //通过class获取节点
  function getElementsByClassName(className){ 
    var classArr = [];
    var tags = document.getElementsByTagName('*');
    for(var item in tags){ 
      if(tags[item].nodeType == 1){ 
        if(tags[item].getAttribute('class') == className){ 
          classArr.push(tags[item]);
        }
      }
    }
    return classArr; //返回
  }

  // 判断obj是否有此class
  function hasClass(obj,cls){  //class位于单词边界
    return obj.className.match(new RegExp('(\\s|^)' + cls + '(\\s|$)'));
   }
   //给 obj添加class
  function addClass(obj,cls){ 
    if(!this.hasClass(obj,cls)){ 
       obj.className += cls;
    }
  }
  //移除obj对应的class
  function removeClass(obj,cls){ 
    if(hasClass(obj,cls)){ 
      var reg = new RegExp('(\\s|^)' + cls + '(\\s|$)');
         obj.className = obj.className.replace(reg,'');
    }
  }

  </script>
<div class="docs-wrapper container">
	<section class="sidebar">
		<ul>
			<li><a href="index.html">Course Description</a></li>
			<li><a href="docs/instructor.html">The Instructor</a></li>
			<li><a href="docs/requirements.html">Course Requirements</a></li>
			<li><a href="docs/textbook.html">Textbook</a></li>
			<li><a href="docs/books.html">Reference Books</a></li>
			<li><a href="docs/schedule.html">Lecture Schedule</a></li>
			<li><a href="docs/resources.html">Resources</a></li>
			<li><a href="docs/qa.html">Q&A</a></li>
			<li><a href="docs/announcements.html">Announcements</a></li>
			<li><a href="docs/events.html">Events</a></li>
		</ul>
	</section>
	<article>
		<h2>Course Description</h2>
		<hr>
		This course will take students to appreciate various types of art objects through Chinese history, 
		including painted pottery of the Neolithic Age, bronze vessels of the Bronze Age, 
		tomb murals of Han Dynasty, Buddhist art of Wei, Jin, Southern and Northern Dynasties, 
		literati paintings of the Song and Yuan Dynasties, stonewares of the Song Dynasties, 
		and architecture and gardens of the Ming and Qing Dynasties, and understand the political, 
		economic, and cultural context of the development of Chinese arts. 
		It will also provide an opportunity for students the exercise the formal analysis, 
		the basic method of art history. 
	</article>
</div>
<footer class="main">
	<p>Copyright 2015 by the Institute of Computer Software, Nanjing University, PR China. All rights reserved</p>
</footer>

</body>
</html>